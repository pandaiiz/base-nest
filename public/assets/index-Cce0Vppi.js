import{u as l,k as u,r as n,j as i,B as a}from"./index-BdVTcDul.js";import{baseColumns as y}from"./columns-C8rit_Ho.js";import{d as f,A as x}from"./index-BIg947uO.js";import I from"./index-BkrlW8Tm.js";import{P as h}from"./index-pO-TSuVN.js";import{P as j}from"./Table-BPazN3dF.js";import"./dateUtil-D6r_EuKQ.js";import"./index-BtgdXNti.js";import"./request-KJyQ3YrS.js";import"./systemDept-DhqNZY_f.js";import"./index-BVe2A3rK.js";import"./index-aKKb7-FE.js";import"./index-BXxGmVdb.js";import"./index-CmytMqWs.js";import"./Table-BBhwPCwl.js";import"./index-DyDWlBm7.js";import"./index-BcGmPhu8.js";const c=async(o,t,e,r="add")=>{var s;await o.show({data:e,type:r}),o.remove(),(s=t.current)==null||s.reload()},K=()=>{const o=l(I),{id:t}=u(),e=n.useRef(),r=n.useRef();n.useEffect(()=>{t&&r.current&&r.current.setFieldsValue({typeId:Number(t)})},[r,t]);const s=[...y,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(m,p)=>[i.jsx(a,{type:"link",onClick:()=>c(o,e,{...p,typeId:Number(t)},"edit"),children:"编辑"},"edit"),i.jsx(h,{title:"确认删除吗？",onConfirm:async()=>{var d;await x.systemDictItem.dictItemDelete({id:p.id}),(d=e==null?void 0:e.current)==null||d.reload()},children:i.jsx(a,{type:"link",danger:!0,children:"删除"})},"delete")]}];return i.jsx(j,{columns:s,actionRef:e,formRef:r,request:async m=>f(m.typeId?m:{...m,typeId:Number(t)}),rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[i.jsx(a,{type:"primary",onClick:()=>c(o,e,{typeId:Number(t)}),children:"新增"},"primary")]})};export{K as default};
