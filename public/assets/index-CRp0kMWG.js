import{u,r as l,j as r,B as i}from"./index-BdVTcDul.js";import{baseColumns as y}from"./columns-f-QwjIaR.js";import{u as f,U as x,a as h}from"./index-BEUwRzFH.js";import{P as w}from"./Table-BPazN3dF.js";import"./dateUtil-D6r_EuKQ.js";import"./index-BtgdXNti.js";import"./systemDept-DhqNZY_f.js";import"./request-KJyQ3YrS.js";import"./index-BVe2A3rK.js";import"./index-CJ-3cW7g.js";import"./index-CmytMqWs.js";import"./index-BXxGmVdb.js";import"./index-pO-TSuVN.js";import"./Table-BBhwPCwl.js";import"./index-DyDWlBm7.js";import"./index-BcGmPhu8.js";const F=()=>{const a=u(x),s=l.useRef(),n=async t=>{var e;if(t){const o=await h({id:t});o.roleIds=o.roles.map(d=>d.id),await a.show({data:o,type:"edit"})}else await a.show();a.remove(),(e=s.current)==null||e.reload()},p=t=>{console.log(t)},m=[...y,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(t,e)=>[r.jsx(i,{type:"link",onClick:()=>n(e.id),children:"编辑"},"edit"),r.jsx(i,{type:"link",onClick:()=>p(e.id),children:"删除"},"delete")]}],c=l.useRef();return r.jsx(w,{headerTitle:"用户列表",onDataSourceChange:t=>{c.current=t},columns:m,actionRef:s,request:async t=>{var o;const e=await f(t);return{data:e.list,success:!0,total:(o=e.pagination)==null?void 0:o.total}},rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[r.jsx(i,{type:"primary",onClick:()=>n(),children:"新增"},"primary")]})};export{F as default};
