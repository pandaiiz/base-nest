import{r as m,u as x,j as e,B as l,A as y}from"./index-C-g3yOAE.js";import{baseColumns as f}from"./columns-CviHIvVd.js";import{EditModal as g}from"./index-8KzhaBA7.js";import{g as j}from"./common-Ba1hFKtc.js";import{T as o}from"./index-B3SaLqtB.js";import{P as w,a as k}from"./Table-OlwSqMJK.js";import"./dateUtil-BnlWTJph.js";import"./index-CdynWnC0.js";import"./index-hJJE_L4a.js";import"./index-CmPvz_FA.js";import"./index-BsOYpZyI.js";const p=async(r,n,i)=>{var t;i?await r.show({data:i,type:"edit"}):await r.show(),r.remove(),(t=n.current)==null||t.reload()},D=()=>{const[r,n]=m.useState({}),i=x(g),t=m.useRef(),d=[...f,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(c,s)=>[e.jsx(l,{type:"link",onClick:()=>p(i,t,s),children:"编辑"},"edit"),e.jsx(k,{title:"确认删除吗？",onConfirm:async()=>{var a;await y.relationshipMaterial.relationshipMaterialDelete({id:s.id}),(a=t==null?void 0:t.current)==null||a.reload()},children:e.jsx(l,{type:"link",danger:!0,children:"删除"})},"delete")]}];return e.jsx(w,{columns:d,actionRef:t,request:async c=>{const{data:s,total:a,success:u,summary:h}=await j("relationship/tool",c);return n(h),{data:s,success:u,total:a}},rowKey:"id",pagination:{defaultPageSize:10,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showQuickJumper:!0},columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[e.jsxs(o,{color:"red",children:["刀具入库：",r[1]||0]}),e.jsxs(o,{color:"red",children:["刀具出库：",r[2]||0]}),e.jsxs(o,{color:"green",children:["刀具借出：",r[11]||0]}),e.jsxs(o,{color:"green",children:["刀具归还：",r[12]||0]}),e.jsxs(o,{color:"blue",children:["刀具修磨发出：",r[21]||0]}),e.jsxs(o,{color:"blue",children:["刀具修磨收回：",r[22]||0]}),e.jsx(l,{type:"primary",onClick:()=>p(i,t),children:"新增"},"primary")]})};export{D as default};
