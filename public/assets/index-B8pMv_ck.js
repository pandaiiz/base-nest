import{u as c,r as p,j as o,B as n}from"./index-BdVTcDul.js";import{baseColumns as u}from"./columns-CTCOmbvG.js";import f from"./index-B74U0nCb.js";import{A as m}from"./index-BIg947uO.js";import{r as y}from"./systemDept-DhqNZY_f.js";import{P as x}from"./index-pO-TSuVN.js";import{P as h}from"./Table-BPazN3dF.js";import"./dateUtil-D6r_EuKQ.js";import"./index-BVe2A3rK.js";import"./index-BhNUxCWD.js";import"./index-DyDWlBm7.js";import"./index-BXxGmVdb.js";import"./index-CmytMqWs.js";import"./request-KJyQ3YrS.js";import"./Table-BBhwPCwl.js";import"./index-BcGmPhu8.js";const d=async(r,e,i)=>{var t;const a=await m.systemMenu.menuList({});if(i){const s=await m.systemRole.roleInfo({id:i.id});await r.show({data:s,treeData:a,type:"edit"})}else await r.show({treeData:a});r.remove(),(t=e.current)==null||t.reload()},L=()=>{const r=c(f),e=p.useRef(),i=p.useRef(),a=[...u,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(t,s)=>[o.jsx(n,{type:"link",onClick:()=>d(r,e,s),children:"编辑"},"edit"),o.jsx(x,{title:"确认删除吗？",onConfirm:async()=>{var l;await m.systemRole.roleDelete({id:s.id}),(l=e==null?void 0:e.current)==null||l.reload()},children:o.jsx(n,{type:"link",danger:!0,children:"删除"})},"delete")]}];return o.jsx(h,{headerTitle:"角色列表",onDataSourceChange:t=>{i.current=t},columns:a,actionRef:e,request:t=>y(t),rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[o.jsx(n,{type:"primary",onClick:()=>d(r,e),children:"新增"},"primary")]})};export{L as default};
