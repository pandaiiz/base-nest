import{u as l,c as u,r as n,j as i,B as a}from"./index-CaOge65T.js";import{baseColumns as y}from"./columns-BFn_kdxJ.js";import{d as f,A as x}from"./index-B3XjnExU.js";import I from"./index-Ba2SmPFQ.js";import{P as h}from"./index-9KecWm-N.js";import{P as j}from"./Table-BQMs0OhS.js";import"./dateUtil-C5Px1K3M.js";import"./index-Byc2rBLS.js";import"./request-C3tBYgRz.js";import"./systemDept-CC_2xMZU.js";import"./index-nmN99p6a.js";import"./index-Cz_LybSK.js";import"./index-emN4IGsW.js";import"./Pagination-CS4LgQge.js";import"./index-CrClVjcz.js";const c=async(o,t,e,r="add")=>{var s;await o.show({data:e,type:r}),o.remove(),(s=t.current)==null||s.reload()},M=()=>{const o=l(I),{id:t}=u(),e=n.useRef(),r=n.useRef();n.useEffect(()=>{t&&r.current&&r.current.setFieldsValue({typeId:Number(t)})},[r,t]);const s=[...y,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(m,d)=>[i.jsx(a,{type:"link",onClick:()=>c(o,e,{...d,typeId:Number(t)},"edit"),children:"编辑"},"edit"),i.jsx(h,{title:"确认删除吗？",onConfirm:async()=>{var p;await x.systemDictItem.dictItemDelete({id:d.id}),(p=e==null?void 0:e.current)==null||p.reload()},children:i.jsx(a,{type:"link",danger:!0,children:"删除"})},"delete")]}];return i.jsx(j,{columns:s,actionRef:e,formRef:r,request:async m=>f(m.typeId?m:{...m,typeId:Number(t)}),rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[i.jsx(a,{type:"primary",onClick:()=>c(o,e,{typeId:Number(t)}),children:"新增"},"primary")]})};export{M as default};
