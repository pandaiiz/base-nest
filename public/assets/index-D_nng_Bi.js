import{u as c,r as d,j as o,s as u,B as n,A as l}from"./index-C-g3yOAE.js";import{baseColumns as y}from"./columns-BQlLoEeP.js";import f from"./index-S868nbqL.js";import{P as x,a as h}from"./Table-OlwSqMJK.js";import"./dateUtil-BnlWTJph.js";import"./index-BsOYpZyI.js";import"./index-BWOfSK86.js";import"./index-DyJY3l44.js";import"./index-CmPvz_FA.js";const p=async(r,e,a)=>{var t;const s=await l.systemMenu.menuList({});if(a){const i=await l.systemRole.roleInfo({id:a.id});await r.show({data:i,treeData:s,type:"edit"})}else await r.show({treeData:s});r.remove(),(t=e.current)==null||t.reload()},E=()=>{const r=c(f),e=d.useRef(),a=d.useRef(),s=[...y,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(t,i)=>[o.jsx(n,{type:"link",onClick:()=>p(r,e,i),children:"编辑"},"edit"),o.jsx(h,{title:"确认删除吗？",onConfirm:async()=>{var m;await l.systemRole.roleDelete({id:i.id}),(m=e==null?void 0:e.current)==null||m.reload()},children:o.jsx(n,{type:"link",danger:!0,children:"删除"})},"delete")]}];return o.jsx(x,{headerTitle:"角色列表",onDataSourceChange:t=>{a.current=t},columns:s,actionRef:e,request:t=>u(t),rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[o.jsx(n,{type:"primary",onClick:()=>p(r,e),children:"新增"},"primary")]})};export{E as default};
