import{u as p,f as u,r as a,j as i,g as y,B as m,A as f}from"./index-C-g3yOAE.js";import{baseColumns as x}from"./columns-CR11JDa-.js";import I from"./index-Cn4JLAz1.js";import{P as h,a as j}from"./Table-OlwSqMJK.js";import"./dateUtil-BnlWTJph.js";import"./index-B3SaLqtB.js";import"./index-BWOfSK86.js";import"./index-hJJE_L4a.js";import"./index-DyJY3l44.js";import"./index-CmPvz_FA.js";import"./index-BsOYpZyI.js";const l=async(o,e,t,r="add")=>{var s;await o.show({data:t,type:r}),o.remove(),(s=e.current)==null||s.reload()},T=()=>{const o=p(I),{id:e}=u(),t=a.useRef(),r=a.useRef();a.useEffect(()=>{e&&r.current&&r.current.setFieldsValue({typeId:Number(e)})},[r,e]);const s=[...x,{title:"操作",valueType:"option",key:"option",align:"center",width:160,fixed:"right",render:(n,d)=>[i.jsx(m,{type:"link",onClick:()=>l(o,t,{...d,typeId:Number(e)},"edit"),children:"编辑"},"edit"),i.jsx(j,{title:"确认删除吗？",onConfirm:async()=>{var c;await f.systemDictItem.dictItemDelete({id:d.id}),(c=t==null?void 0:t.current)==null||c.reload()},children:i.jsx(m,{type:"link",danger:!0,children:"删除"})},"delete")]}];return i.jsx(h,{columns:s,actionRef:t,formRef:r,request:async n=>y(n.typeId?n:{...n,typeId:Number(e)}),rowKey:"id",columnEmptyText:!1,dateFormatter:"string",scroll:{y:800},toolBarRender:()=>[i.jsx(m,{type:"primary",onClick:()=>l(o,t,{typeId:Number(e)}),children:"新增"},"primary")]})};export{T as default};
